<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"> </script>

    <title>Document</title>
</head>
<body>
    <h1 id="parameter">Ambil Param</h1>
    <ul>
        <li id="returnJson"></li>
    </ul>
</body>

<script>
    window.addEventListener('load', (event)=>{
        //Ambil param dari url yang sedang aktif dijalankan
        var url = new URLSearchParams(window.location.search);
        var params = url.get('color')
        alert(params)
        document.getElementById('parameter').innerHTML += ` ${params}`

        //pakai URL https atau link dari luar
        var url = 'https://jsonplaceholder.typicode.com/users?id=1'
        var http = new URL(url)
        var resultParams = http.searchParams.get('id')
        alert(resultParams)   
        document.getElementById('parameter').innerHTML += ` ${resultParams}`
    })
    function loadData(){
        var rendering = document.getElementById('returnJson')
        fetch('https://jsonplaceholder.typicode.com/users')
        .then(response => response.json())
        .then((res)=>{
           
            for(var i = 0;i<res.length;i++){
                console.log('data: ', res[i])
                rendering.innerHTML += `<li> ${res[i].name} </li>`
            }
        })
        .catch((err)=>{
            console.log('Failed to request data: ', err)
        })
    }
    loadData();
</script>
</html>